<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<meta name="keywords" content="COQUA">
		<meta name="description" content="レシピ推薦サービス">
		<meta name="author" content="COQUA">
		<link rel="stylesheet" type="text/css" href="style/css.css">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
		<title>COQUA</title>
	</head>
	<body>
		<header>
			<h1><a href='//localhost:8000'>COQUA</a></h1>
		</header>
		<main>
			<article>
				<div class = 'search'>
					<form id = 'form-search'>
						<input type="text" id="input-text" placeholder="材料名を入力"><input type="submit" class="fas" id="input-glass" value="&#xf002;">
					</form>
				</div>
				<div class = 'cond'>
					<p class = 'switch'>検索条件を指定</p>
					<div class = 'wrap' style =  "display:none;">
						<form id = 'form-cond'>
							<div class = 'cond-sort'>
								並び替え順<br>
								<input type="radio" name="sort" value="repo" checked="checked">つくレポ数<br>
								<input type="radio" name="sort" value="time">調理時間
							</div>
						</form>
					</div>
				</div>
				<div id = 'result'>
					<div class = 'nav'></div>
					<div class = 'cont'></div>
				</div>
			</article>
		</main>
		<footer>
			<p> - COQUA - </p>
		</footer>
		</div>
		<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<script type="text/javascript">
			jQuery(function() {
				var url  = '//localhost:8000/cgi-bin/coqua.py';
				var done = function(response){$('#result').html(response);};
				var fail = function(){$('#result').html('Failed. No result.');};
				var search = function() {
					event.preventDefault();
					var $form = $(this);
					$.ajax({
						url: url,
						type: 'get',
						dataType: 'text',
						data: {text: $('#input-text').val()},
					}).done(done).fail(fail);};
				$.ajax({url: url}).done(done).fail(fail);
				$('form').submit(search);
				$('.switch').on('click', function(){
					$(this).toggleClass("open");
					$(this).next('.wrap').slideToggle();
				});
				$(document).on('click', '.cont .page a', function(){
					$('.cont > div').hide();
					$('.cont > div').filter(this.hash).fadeIn();
					$('html,body').animate({scrollTop: 0}, 'fast');
					return false; /* #cont1などがurlにつかない */
				});
			});
		</script>
	</body>
</html>
